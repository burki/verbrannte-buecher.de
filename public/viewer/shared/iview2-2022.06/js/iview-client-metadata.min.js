var mycore,__extends=this&&this.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(t){var e,o,n;e=t.viewer||(t.viewer={}),o=e.components||(e.components={}),n=function(n){function t(t){var e=n.call(this)||this;return e._settings=t,e._spinner=jQuery("<img />"),e._enabled=!0,e}return __extends(t,n),t.prototype.init=function(){var n=this;if(this._container=jQuery("<div></div>"),this._container.addClass("card-body"),void 0!==this._settings.metadataURL&&null!=this._settings.metadataURL){var t=ViewerFormatString(this._settings.metadataURL,{derivateId:this._settings.derivate,objId:this._settings.objId});this._container.load(t,{},function(){n.correctScrollPosition()})}else{if(!("metsURL"in this._settings))return void(this._enabled=!1);var e={url:this._settings.metsURL,success:function(t){var e=singleSelectShim(t,"/mets:mets/*/mets:techMD/mets:mdWrap[@OTHERMDTYPE='MCRVIEWER_HTML']/mets:xmlData/*",XMLUtil.NS_MAP);null!=e?("xml"in e&&(e=jQuery(e.xml)),n._container.append(e)):n._container.remove()},error:function(t,e,n){console.log(e),console.error(n)}};jQuery.ajax(e)}this.trigger(new o.events.ComponentInitializedEvent(this)),this.trigger(new o.events.WaitForEvent(this,o.events.ShowContentEvent.TYPE))},t.prototype.correctScrollPosition=function(){if(0<this._container.parent().scrollTop()){var t=this._container.height(),e=this._container.parent();e.scrollTop(e.scrollTop()+t)}},t.prototype.handle=function(t){if(this._enabled&&t.type==o.events.ShowContentEvent.TYPE){var e=t;e.component instanceof o.MyCoReChapterComponent&&e.content.prepend(this._container)}},Object.defineProperty(t.prototype,"handlesEvents",{get:function(){return[o.events.ShowContentEvent.TYPE]},enumerable:!0,configurable:!0}),t}(o.ViewerComponent),o.MyCoReMetadataComponent=n}(mycore||(mycore={})),addViewerComponent(mycore.viewer.components.MyCoReMetadataComponent),console.log("METADATA MODULE");